# SPDX-FileCopyrightText: 2025 Knitli Inc.
# SPDX-FileContributor: Adam Poulemanos <adam@knit.li>
#
# SPDX-License-Identifier: MIT OR Apache-2.0

# CodeWeaver Docker Environment Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# Quick Start
# =============================================================================
# For a zero-config local setup, just run: docker compose up -d
# The default 'quickstart' profile uses free, local models.

# =============================================================================
# Profile Selection (Primary Configuration Method)
# =============================================================================

# Profile determines which providers and models to use:
#   - quickstart:   Free local models (FastEmbed/Sentence Transformers) - DEFAULT
#   - recommended:  High-quality cloud models (Voyage AI) - requires VOYAGE_API_KEY
#   - backup:       Lightest local models + in-memory vectors (for testing)
CODEWEAVER_PROFILE=quickstart

# =============================================================================
# Project Configuration
# =============================================================================

# Path to your codebase to index (relative to docker-compose.yml or absolute)
# Examples:
#   CODEWEAVER_PROJECT_PATH=.                          # Current directory
#   CODEWEAVER_PROJECT_PATH=../my-project              # Relative path
#   CODEWEAVER_PROJECT_PATH=/home/user/projects/app    # Absolute path
CODEWEAVER_PROJECT_PATH=.

# =============================================================================
# Service Ports
# =============================================================================

# CodeWeaver MCP and HTTP server port
CODEWEAVER_PORT=9328

# =============================================================================
# API Keys
# =============================================================================

# VoyageAI API key (required for 'recommended' profile)
# Get your free key at: https://www.voyageai.com/
# VOYAGE_API_KEY=

# for other providers (if customized in your codeweaver config)
# CODEWEAVER_EMBEDDING_API_KEY=
# CODEWEAVER_RERANKING_API_KEY=

# =============================================================================
# Vector Store Configuration
# =============================================================================


# Qdrant vector database ports
CODEWEAVER_VECTOR_STORE_PORT=6333
CODEWEAVER_VECTOR_STORE_URL=http://localhost


# Qdrant Cloud API Key (only needed for Qdrant Cloud) -- both work
# QDRANT__SERVICE__API_KEY=
# CODEWEAVER_VECTOR_STORE_API_KEY=

# =============================================================================
# Operational Settings
# =============================================================================

# Maximum tokens for responses
TOKEN_LIMIT=30000

# Enable telemetry (privacy-focused analytics)
ENABLE_TELEMETRY=false

# =============================================================================
# Advanced: Custom Configuration
# =============================================================================
# For full control, create a codeweaver.toml file and mount it:
#
# 1. Generate a config:
#    cw init config --profile quickstart --config-path ./codeweaver.toml
#   (replace 'quickstart' with your desired profile)
#
# 2. Edit as needed:
#    vim codeweaver.toml
#
# 3. Mount in docker-compose.yml (uncomment the volume line):
#    - ./codeweaver.toml:/app/config/codeweaver/codeweaver.toml:ro
#
# When a config file is mounted, the profile setting is ignored.
