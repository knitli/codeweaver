# SPDX-FileCopyrightText: 2025 Knitli Inc.
# SPDX-FileContributor: Adam Poulemanos <adam@knit.li>
#
# SPDX-License-Identifier: MIT OR Apache-2.0

# CodeWeaver Docker Environment Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# Project Configuration
# =============================================================================

# Path to your codebase to index (relative to docker-compose.yml)
PROJECT_PATH=.

# Path to custom configuration file (optional)
# CONFIG_PATH=./codeweaver.toml

# =============================================================================
# Service Ports
# =============================================================================

# CodeWeaver MCP server port
CODEWEAVER_PORT=9328

# Qdrant vector database ports
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# =============================================================================
# API Keys (Required)
# =============================================================================

# VoyageAI API key (required for default embeddings and reranking)
# Get your key at: https://www.voyageai.com/
VOYAGE_API_KEY=your-voyage-api-key-here

# Optional: Alternative provider API keys
# OPENAI_API_KEY=your-openai-api-key
# COHERE_API_KEY=your-cohere-api-key
# ANTHROPIC_API_KEY=your-anthropic-api-key
# GOOGLE_API_KEY=your-google-api-key

# =============================================================================
# Embedding Configuration
# =============================================================================

# Embedding provider: voyage, openai, cohere, fastembed, sentence-transformers
EMBEDDING_PROVIDER=voyage

# Model for dense embeddings
EMBEDDING_MODEL=voyage-code-3

# Sparse embedding model (local FastEmbed - no API key needed)
SPARSE_EMBEDDING_MODEL=prithivida/Splade_PP_en_v1

# =============================================================================
# Reranking Configuration
# =============================================================================

# Reranking provider: voyage, cohere, fastembed, sentence-transformers
RERANKING_PROVIDER=voyage

# Reranking model
RERANKING_MODEL=voyage-rerank-2.5

# =============================================================================
# Vector Store Configuration
# =============================================================================

# Qdrant collection name for this project
COLLECTION_NAME=codeweaver

# =============================================================================
# Operational Settings
# =============================================================================

# Enable telemetry (PostHog analytics - privacy-focused)
ENABLE_TELEMETRY=false

# Logging level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Maximum chunk size in tokens (default: 800)
MAX_CHUNK_SIZE=800

# Token limit for responses (default: 10000)
TOKEN_LIMIT=10000
