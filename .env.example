# SPDX-FileCopyrightText: 2025 Knitli Inc.
# SPDX-FileContributor: Adam Poulemanos <adam@knit.li>
#
# SPDX-License-Identifier: MIT OR Apache-2.0

# CodeWeaver Docker Environment Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# Quick Start
# =============================================================================
# For a zero-config local setup, just run: docker compose up -d
# The default 'quickstart' profile uses free, local models.

# =============================================================================
# Profile Selection (Primary Configuration Method)
# =============================================================================

# Profile determines which providers and models to use:
#   - quickstart:   Free local models (FastEmbed/Sentence Transformers) - DEFAULT
#   - recommended:  High-quality cloud models (Voyage AI) - requires VOYAGE_API_KEY
#   - backup:       Lightest local models + in-memory vectors (for testing)
CODEWEAVER_PROFILE=quickstart

# =============================================================================
# Project Configuration
# =============================================================================

# Path to your codebase to index (relative to docker-compose.yml or absolute)
# Examples:
#   PROJECT_PATH=.                          # Current directory
#   PROJECT_PATH=../my-project              # Relative path
#   PROJECT_PATH=/home/user/projects/app    # Absolute path
PROJECT_PATH=.

# =============================================================================
# Service Ports
# =============================================================================

# CodeWeaver MCP server port
CODEWEAVER_PORT=9328

# Qdrant vector database ports
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# =============================================================================
# API Keys
# =============================================================================

# VoyageAI API key (required for 'recommended' profile)
# Get your free key at: https://www.voyageai.com/
VOYAGE_API_KEY=

# Anthropic API key (required for agent/agentic features)
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Optional: Alternative provider API keys
# OPENAI_API_KEY=
# COHERE_API_KEY=
# GOOGLE_API_KEY=

# =============================================================================
# Vector Store Configuration
# =============================================================================

# Vector deployment type: 'local' (default) or 'cloud'
VECTOR_DEPLOYMENT=local

# For cloud deployment, provide your Qdrant Cloud URL
# VECTOR_URL=https://your-cluster.cloud.qdrant.io:6333

# Qdrant Cloud API Key (only needed for Qdrant Cloud)
# QDRANT_API_KEY=

# =============================================================================
# Operational Settings
# =============================================================================

# Maximum tokens for responses
TOKEN_LIMIT=30000

# Enable telemetry (privacy-focused analytics)
ENABLE_TELEMETRY=false

# =============================================================================
# Advanced: Custom Configuration
# =============================================================================
# For full control, create a codeweaver.toml file and mount it:
#
# 1. Generate a config:
#    cw init config --profile quickstart --config-path ./codeweaver.toml
#
# 2. Edit as needed:
#    vim codeweaver.toml
#
# 3. Mount in docker-compose.yml (uncomment the volume line):
#    - ./codeweaver.toml:/app/config/codeweaver/codeweaver.toml:ro
#
# When a config file is mounted, the profile setting is ignored.
